
export default async function handler(req, res) {
  res.setHeader("Access-Control-Allow-Origin", "*");
  res.setHeader("Access-Control-Allow-Headers", "Content-Type, Accept, Mcp-Session-Id");
  res.setHeader("Access-Control-Allow-Methods", "GET, POST, DELETE, HEAD, OPTIONS");
  if (req.method === "OPTIONS" || req.method === "HEAD") return res.status(204).end();

  const payload = {
    ok: true,
    method: req.method,
    url: req.url,
    headers: req.headers,
    hasBody: req.body != null,
    typeofBody: typeof req.body
  };
  const str = JSON.stringify(payload);
  res.statusCode = 200;
  res.setHeader("content-type", "application/json; charset=utf-8");
  res.setHeader("content-length", Buffer.byteLength(str).toString());
  res.end(str);
}
